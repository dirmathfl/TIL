# 1208 부분수열의 합 2

```python
from sys import stdin
from collections import defaultdict


def dfs(idx, end_idx, subtotal, direction):
    global answer

    if idx == end_idx:
        # 우측의 경우 s - subtotal 카운트가 있는지 확인
        if direction == "right":
            answer += left[s - subtotal]
        else:
            left[subtotal] += 1
        return

    dfs(idx + 1, end_idx, subtotal, direction)
    dfs(idx + 1, end_idx, subtotal + nums[idx], direction)


if __name__ == "__main__":
    answer = 0
    n, s = map(int, stdin.readline().split())
    nums = list(map(int, stdin.readline().split()))
    left = defaultdict(int)

    dfs(0, n//2, 0, "left")
    dfs(n//2, n, 0, "right")

    print(answer if s != 0 else answer - 1)
```



## 문제 풀이

[백준: 1208 부분수열의 합 2](https://dirmathfl.tistory.com/173)

